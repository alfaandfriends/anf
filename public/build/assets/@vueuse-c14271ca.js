import{l as m,p as I,i as E,r as L,w as x,c as N,n as O}from"./@vue-39dc9ff3.js";const c=new WeakMap,P=(t,e)=>{var i;const n=(i=m())==null?void 0:i.proxy;if(n==null)throw new Error("provideLocal must be called in setup");c.has(n)||c.set(n,Object.create(null));const s=c.get(n);s[t]=e,I(t,e)},J=(...t)=>{var e;const i=t[0],n=(e=m())==null?void 0:e.proxy;if(n==null)throw new Error("injectLocal must be called in setup");return c.has(n)&&i in c.get(n)?c.get(n)[i]:E(...t)};function F(t,e){const i=(e==null?void 0:e.injectionKey)||Symbol(t.name||"InjectionState"),n=e==null?void 0:e.defaultValue;return[(...r)=>{const a=t(...r);return P(i,a),a},()=>J(i,n)]}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const M=t=>typeof t<"u";function W(t){return JSON.parse(JSON.stringify(t))}function G(t,e,i,n={}){var s,v,r;const{clone:a=!1,passive:V=!1,eventName:y,deep:S=!1,defaultValue:_,shouldEmit:g}=n,l=m(),b=i||(l==null?void 0:l.emit)||((s=l==null?void 0:l.$emit)==null?void 0:s.bind(l))||((r=(v=l==null?void 0:l.proxy)==null?void 0:v.$emit)==null?void 0:r.bind(l==null?void 0:l.proxy));let u=y;e||(e="modelValue"),u=u||`update:${e.toString()}`;const j=o=>a?typeof a=="function"?a(o):W(o):o,h=()=>M(t[e])?j(t[e]):_,w=o=>{g?g(o)&&b(u,o):b(u,o)};if(V){const o=h(),p=L(o);let d=!1;return x(()=>t[e],f=>{d||(d=!0,p.value=j(f),O(()=>d=!1))}),x(p,f=>{!d&&(f!==t[e]||S)&&w(f)},{deep:S}),p}else return N({get(){return h()},set(o){w(o)}})}export{F as c,G as u};
