import{B as v}from"./Authenticated-da5fe39a.js";import{H as _,L as V}from"./@inertiajs-72b4b122.js";import{_ as g}from"./Card-aacd8da5.js";import{y as n,x as l,u as $,Q as i,F as h,bf as p,t as d,W as a,z as o,q as k}from"./@vue-3ecac556.js";import"./ApplicationLogo-fd2f7b3a.js";import"./radix-vue-0dbe0706.js";import"./@floating-ui-24f01f9d.js";import"./@internationalized-2f03b566.js";import"./class-variance-authority-ff2c9236.js";import"./clsx-0839fdbe.js";import"./app-6cbce3f4.js";import"./axios-3a665b0f.js";import"./pusher-js-b1694987.js";import"./@vueform-8c23d62f.js";import"./cropperjs-274ed722.js";import"./laravel-vite-plugin-d10ca5e8.js";import"./vue-debounce-ed417ae1.js";import"./v-calendar-4075303e.js";import"./tailwind-merge-05141ada.js";import"./@vueuse-25519c21.js";import"./@radix-icons-3edfb593.js";import"./@vuepic-e1682e24.js";import"./@babel-1b80a44a.js";import"./lodash.isequal-1ba6c16d.js";import"./vue-7c584690.js";import"./lodash.clonedeep-8ef52793.js";import"./qs-dba4bf9b.js";import"./side-channel-218a49f6.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-b36cc063.js";import"./deepmerge-89e33937.js";import"./nprogress-34327965.js";import"./DialogDescription-c92c752a.js";import"./lucide-vue-next-214c8f72.js";const w={class:"grid grid-cols-1 gap-4 mb-3"},C={key:0},L={key:1},S={class:"block focus:ring-0 focus:border-gray-300"},B={class:"flex justify-end"},F={class:"flex space-x-2"},P={components:{Head:_,Link:V},data(){return{list:{levels:[]},form:{title:"",programme_id:"",level_id:"",language_id:"",media_type_id:1,embed_link:"",embed_file:""}}},watch:{"form.media_type_id":{handler(){this.form.embed_link="",this.form.embed_file=""}}},methods:{submit(){this.$inertia.post(route("teacher_resources.store"),this.form,{preserveState:!0})},uploadFile(u){const e=u.target.files[0];this.form.media_type_id==2&&(e.type=="application/pdf"||e.name.toLowerCase().endsWith(".pdf")?this.form.embed_file=e:(alert("Only PDF File allowed!"),this.$refs.file_input.value="",this.form.embed_file="")),this.form.media_type_id==3&&(e.type==="application/vnd.ms-powerpoint"||e.type==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||e.name.toLowerCase().endsWith(".ppt")||e.name.toLowerCase().endsWith(".pptx")?this.form.embed_file=e:(alert("Only PowerPoint Sildeshow File allowed!"),this.$refs.file_input.value="",this.form.embed_file="")),this.form.media_type_id==4&&(e.type.startsWith("image/")||e.name.toLowerCase().endsWith(".jpg")||e.name.toLowerCase().endsWith(".jpeg")||e.name.toLowerCase().endsWith(".png")?this.form.embed_file=e:(alert("Only image files (JPG, JPEG, PNG) are allowed!"),this.$refs.file_input.value="",this.form.embed_file=""))}}},he=Object.assign(P,{__name:"Create",setup(u){return(e,r)=>{const s=p("Label"),y=p("Input"),m=p("ComboBox"),b=p("Textarea"),f=p("Button");return d(),n(h,null,[l($(_),{title:"Teacher Resources"}),l(v,null,{header:i(()=>r[8]||(r[8]=[])),default:i(()=>[l(g,null,{title:i(()=>r[9]||(r[9]=[a("Resource Information")])),content:i(()=>[o("div",w,[o("div",null,[l(s,null,{default:i(()=>r[10]||(r[10]=[a("Title"),o("span",{class:"text-red-500"},"*",-1)])),_:1,__:[10]}),l(y,{type:"text",error:e.$page.props.errors.title,modelValue:e.form.title,"onUpdate:modelValue":r[0]||(r[0]=t=>e.form.title=t)},null,8,["error","modelValue"])]),o("div",null,[l(s,null,{default:i(()=>r[11]||(r[11]=[a("Programme"),o("span",{class:"text-red-500"},"*",-1)])),_:1,__:[11]}),l(m,{items:e.$page.props.programmes,"label-property":"name","value-property":"id",error:e.$page.props.errors.programme_id,modelValue:e.form.programme_id,"onUpdate:modelValue":r[1]||(r[1]=t=>e.form.programme_id=t),"select-placeholder":"Select Programme","search-placeholder":"Search programme..."},null,8,["items","error","modelValue"])]),o("div",null,[l(s,null,{default:i(()=>r[12]||(r[12]=[a("Level"),o("span",{class:"text-red-500"},"*",-1)])),_:1,__:[12]}),l(m,{items:e.$page.props.levels,"label-property":"name","value-property":"id",error:e.$page.props.errors.level_id,modelValue:e.form.level_id,"onUpdate:modelValue":r[2]||(r[2]=t=>e.form.level_id=t),"select-placeholder":"Select Level","search-placeholder":"Search level..."},null,8,["items","error","modelValue"])]),o("div",null,[l(s,null,{default:i(()=>r[13]||(r[13]=[a("Language"),o("span",{class:"text-red-500"},"*",-1)])),_:1,__:[13]}),l(m,{items:e.$page.props.languages,"label-property":"name","value-property":"id",error:e.$page.props.errors.language_id,modelValue:e.form.language_id,"onUpdate:modelValue":r[3]||(r[3]=t=>e.form.language_id=t),"select-placeholder":"Select Language","search-placeholder":"Search language..."},null,8,["items","error","modelValue"])]),o("div",null,[l(s,null,{default:i(()=>r[14]||(r[14]=[a("Media Type"),o("span",{class:"text-red-500"},"*",-1)])),_:1,__:[14]}),l(m,{items:e.$page.props.media_types,"label-property":"name","value-property":"id",error:e.$page.props.errors.media_type_id,modelValue:e.form.media_type_id,"onUpdate:modelValue":r[4]||(r[4]=t=>e.form.media_type_id=t),"select-placeholder":"Select Media Type","search-placeholder":"Search media type..."},null,8,["items","error","modelValue"])]),e.form.media_type_id==1?(d(),n("div",C,[l(s,null,{default:i(()=>r[15]||(r[15]=[a("Embed Link"),o("span",{class:"text-red-500"},"*",-1)])),_:1,__:[15]}),l(b,{rows:"3",error:e.$page.props.errors.embed_link,modelValue:e.form.embed_link,"onUpdate:modelValue":r[5]||(r[5]=t=>e.form.embed_link=t)},null,8,["error","modelValue"])])):(d(),n("div",L,[r[17]||(r[17]=o("label",{for:"",class:"block text-sm font-bold text-gray-700"},[a(" File "),o("span",{class:"text-red-500"},"*")],-1)),o("label",S,[r[16]||(r[16]=o("span",{class:"sr-only"},"Browse File",-1)),o("input",{type:"file",ref:"file_input",class:k(["focus:ring-0 border rounded-md block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:border-0 file:text-sm file:font-semibold file:bg-gray-200 file:text-gray-700 focus:outline-none",e.$page.props.errors.embed_file?"border-red-300":"border-gray-300"]),onChange:r[6]||(r[6]=(...t)=>e.uploadFile&&e.uploadFile(...t))},null,34)])]))])]),_:1}),l(g,null,{content:i(()=>[o("div",B,[o("div",F,[l(f,{variant:"outline",onClick:r[7]||(r[7]=t=>e.$inertia.get(e.route("teacher_resources")))},{default:i(()=>r[18]||(r[18]=[a("Cancel")])),_:1,__:[18]}),l(f,{onClick:e.submit},{default:i(()=>r[19]||(r[19]=[a("Save")])),_:1,__:[19]},8,["onClick"])])])]),_:1})]),_:1})],64)}}});export{he as default};
