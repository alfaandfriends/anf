import{y as a,x,u as z,z as s,A as g,I as C,F as _,J as b,Q as p,v as A,C as m,bf as H,t as o,q as k,K as h,W as u,V as j,bH as q,bD as P}from"./@vue-3ecac556.js";import"./Authenticated-da5fe39a.js";import{H as B,L as F}from"./@inertiajs-72b4b122.js";import{V as I}from"./vue-draggable-next-53cb3f7c.js";import{C as V}from"./chart.js-0e51c4f3.js";import{a as M}from"./axios-3a665b0f.js";import{_ as L}from"./Card-aacd8da5.js";import"./ApplicationLogo-fd2f7b3a.js";import"./radix-vue-0dbe0706.js";import"./@floating-ui-24f01f9d.js";import"./@internationalized-2f03b566.js";import"./class-variance-authority-ff2c9236.js";import"./clsx-0839fdbe.js";import"./app-6cbce3f4.js";import"./pusher-js-b1694987.js";import"./@vueform-8c23d62f.js";import"./cropperjs-274ed722.js";import"./laravel-vite-plugin-d10ca5e8.js";import"./vue-debounce-ed417ae1.js";import"./v-calendar-4075303e.js";import"./tailwind-merge-05141ada.js";import"./@vueuse-25519c21.js";import"./@radix-icons-3edfb593.js";import"./@vuepic-e1682e24.js";import"./@babel-1b80a44a.js";import"./lodash.isequal-1ba6c16d.js";import"./vue-7c584690.js";import"./lodash.clonedeep-8ef52793.js";import"./qs-dba4bf9b.js";import"./side-channel-218a49f6.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-b36cc063.js";import"./deepmerge-89e33937.js";import"./nprogress-34327965.js";import"./DialogDescription-c92c752a.js";import"./lucide-vue-next-214c8f72.js";import"./@kurkle-b1b89bbc.js";const E={class:"flex flex-col h-screen"},N={class:"flex-grow flex flex-col items-center justify-center py-6 bg-indigo-500 overflow-x-auto sm:overflow-x-clip"},O={class:"flex flex-col items-center justify-center w-full h-full max-w-4xl",style:{display:"hidden"}},U={class:"p-6 bg-white border border-gray-200 rounded-lg shadow-md overflow-x-auto w-[350px] sm:w-full h-[200px] sm:h-auto"},Z={class:"flex items-center p-4 text-sm text-gray-800 border border-gray-300 rounded-lg bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600",role:"alert"},R={class:"flex flex-col space-y-2"},W={class:"p-6 bg-white border border-gray-200 rounded-lg shadow-md overflow-x-auto w-[350px] sm:w-full h-[200px] sm:h-auto"},K={class:"flex items-center p-4 text-sm text-gray-800 border border-gray-300 rounded-lg bg-gray-50 dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600",role:"alert"},G={class:"flex flex-col space-y-2"},Q={class:"p-6 text-center"},Y={class:"grid grid-cols-1 gap-4"},J={class:"flex flex-col text-sm rounded-md space-y-1"},X={class:"flex flex-col text-sm rounded-md space-y-1"},ee={class:"flex flex-col text-sm rounded-md space-y-1"},te={class:"flex flex-col text-sm rounded-md space-y-1"},se={class:"flex items-center"},re={key:0,class:"flex flex-col text-sm rounded-md space-y-1"},ie={class:"text-center"},oe={key:0,class:"italic text-center text-sm text-gray-700 font-semibold"},ne={class:"flex flex-col mb-3 items-center space-y-2"},ae={class:"font-sans text-base text-justify"},le={class:"flex flex-col min-w-full rounded text-center sm:p-16 space-y-6 sm:space-y-10"},de={class:"text-xl sm:text-2xl font-bold uppercase"},ce={class:"flex flex-col items-center space-y-4 m-0"},he={class:"text-sm sm:text-lg font-medium"},ue={role:"list",class:"flex items-center space-x-2 sm:space-x-4"},_e={key:0,class:"block w-3 h-3 sm:w-4 sm:h-4 bg-green-400 rounded-full"},me={class:"sr-only"},pe={key:1,class:"relative flex items-center justify-center"},fe={class:"sr-only"},ge={key:2,class:"block w-3 h-3 sm:w-4 sm:h-4 bg-red-500 rounded-full"},we={class:"sr-only"},xe={key:3,class:"block w-3 h-3 sm:w-4 sm:h-4 bg-gray-300 rounded-full"},be={class:"sr-only"},ye={key:0},ve={class:"border-2 border-gray-400 p-3 w-full rounded-lg shadow-md flex items-center justify-center md:p-5"},ke={class:"text-center font-mono font-bold text-sm sm:text-xl whitespace-pre-wrap"},qe={key:1,class:"px-6"},Ce={class:"font-bold uppercase italic text-red-500"},Ae={key:2,class:"flex items-center justify-center"},Me=["src"],Le={key:3,class:"flex flex-col sm:flex-row justify-center sm:space-x-10 space-y-2 sm:space-y-0"},Se=["onClick"],Te=["innerHTML"],He={key:1,class:"py-5 px-6"},je=["innerHTML"],Ve={key:4,class:"flex flex-col space-y-10"},Be={class:"grid grid-cols-4 gap-4 mx-auto"},De=["onClick"],$e=["innerHTML"],ze={key:1,class:"py-5 px-6"},Pe=["innerHTML"],Fe={class:"flex flex-row justify-center"},Ie={key:5,class:"flex flex-col space-y-2"},Ee={class:"text-left space-y-2"},Ne=["innerHTML"],Oe={class:"flex justify-start"},Ue={class:"flex flex-col space-y-6 justify-center"},Ze={class:"flex items-center justify-center border-2 border-indigo-400 w-[5rem] h-[5rem] rounded-lg"},Re=["innerHTML"],We={key:1,class:"py-5 px-6"},Ke=["innerHTML"],Ge={class:"flex flex-col space-y-6 justify-center"},Qe=["innerHTML"],Ye={class:"flex flex-row justify-center"},Je={key:6,class:"flex flex-col space-y-10"},Xe={class:"border-2 border-gray-400 p-3 w-full rounded-lg shadow-md flex flex-wrap items-center justify-center md:p-5"},et={class:"text-left font-mono font-bold text-sm sm:text-lg space-y-2 leading-loose whitespace-pre-line"},tt=["onUpdate:modelValue"],st={class:"flex flex-row justify-center"},rt={components:{Head:B,Link:F,draggable:I},props:{form_data:Object,dt_details:Object,dt_list:Object,diagnostic_test_categories_label:Object,diagnostic_test_categories:Object},data(){return{submitting:!1,can_go_higher:!0,can_go_lower:!0,chart_info:[],bar_chart:"",scatter_chart:"",show_chart:!1,show_bar_chart:!1,show_scatter_chart:!1,show_quiz:!0,show_parent_details:!1,show_thank_you:!1,count:1,dt_index:0,answer:"",correct:!1,current:{question:"",question_type:"",question_image:"",remarks:"",criterions:[],answers:[],score:0,answer_records:[],matrix_items:[],matrix_sequence:[]},question_types:{1:{name:"Single Choice"},2:{name:"Multiple Choices"},3:{name:"Matrix Sorting"},4:{name:"Fill in the Blank"}},selected_answer:{single_choice:"",multiple_choices:[],matrix_sorting:[],fill_in_blank:[]},sentence_parts:[],form:{dt_title:"",student_name:this.form_data.name,student_age:this.form_data.age,student_school:this.form_data.school,parent_name:"",parent_contact:"",parent_area_location:"",parent_email:"",answer_record:[],eligible_level:"",language_id:this.$page.props.language_id,has_edu_teacher_email:!1,edu_teacher_email:""},error:{parent_name:!1,parent_contact:!1,parent_area_location:!1,parent_email:!1},chart_data:[1,2,3]}},methods:{restrictToNumbers(){this.form.parent_contact=this.form.parent_contact.replace(/\D/g,"")},clearAllAnswers(){this.selected_answer.single_choice="",this.selected_answer.multiple_choices=[],this.resetFillInBlank(),this.answer="",this.correct=!1},pushAnswer(){this.dt_list[this.dt_index]&&(this.form.answer_record.push({dt_id:this.dt_list[this.dt_index].dt_id,question_id:this.dt_list[this.dt_index].id,question_category_id:this.dt_list[this.dt_index].category_id,question:this.dt_list[this.dt_index].question,correct:this.correct,answer:this.answer}),this.current.answer_records.push({dt_id:this.dt_list[this.dt_index].dt_id,question_id:this.dt_list[this.dt_index].id,question_category_id:this.dt_list[this.dt_index].category_id,question:this.dt_list[this.dt_index].question,correct:this.correct,answer:this.answer}),this.dt_index+=1)},saveSingleChoice(r){this.selected_answer.single_choice=r,this.answer=r,this.selected_answer.single_choice==this.dt_list[this.dt_index].correct_answer&&(this.current.score+=1,this.correct=!0),this.pushAnswer()},selectMultipleChoices(r){const e=this.selected_answer.multiple_choices.indexOf(r);e!==-1?this.selected_answer.multiple_choices.splice(e,1):this.selected_answer.multiple_choices.push(r)},saveMultipleChoices(){this.selected_answer.multiple_choices.length<1?alert("Please select at least ONE answer."):(this.checkIfArrayMatch(this.selected_answer.multiple_choices,this.dt_list[this.dt_index].correct_answer.map(Number))&&(this.current.score+=1,this.correct=!0),this.answer=this.selected_answer.multiple_choices,this.pushAnswer())},saveMatrixSorting(){var r=this.checkMatrixSortingAnswer();r&&(this.current.score+=1,this.correct=!0),this.pushAnswer()},checkSingleValueExistsInArray(r){return this.selected_answer.multiple_choices.indexOf(r)!==-1},checkMatrixSortingAnswer(){var r=[],e=0;return this.current.matrix_sequence.map(t=>{t.map(()=>{e++})}),this.selected_answer.matrix_sorting.map((t,n)=>{t.map(c=>{this.current.matrix_sequence[n].includes(c)?r.push(!0):r.push(!1)})}),r.length==e&&!r.includes(!1)},checkIfArrayMatch(r,e){r.sort(),e.sort();for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0},shuffleArray(r){for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[r[e],r[t]]=[r[t],r[e]]}return r},saveFillInBlankAnswers(){const r=[];this.sentence_parts.forEach(e=>{e.input&&r.push(e.answer)}),this.answer=r,this.sentence_parts.every(this.partIsCorrect)&&this.inputAnswersUnique(this.sentence_parts)&&(this.current.score+=1,this.correct=!0),this.pushAnswer()},partIsCorrect(r){const e=r.answer.replace(/\s+/g," ").trim(),t=r.text.includes(e);return!r.input||(Array.isArray(r.text)&&r.text.length!==0)===t},inputAnswersUnique(r){const e=r.filter(n=>n.input);return new Set(e.map(n=>n.answer)).size===e.length},resetFillInBlank(){const r=/(\[[^\]]*\])/,e=this.current.question.split(r).filter(t=>t);this.sentence_parts=e.map(t=>{const n=r.test(t);return{answer:"",input:n,text:n?t.slice(1,-1).split("|"):t}})},parentDetails(){this.show_chart=!1,this.show_quiz=!1,this.show_parent_details=!0},handleBeforeUnload(r){r.preventDefault(),r.returnValue="";const e="Are you sure you want to leave the page?";return r.returnValue=e,e},getHigherLevelDt(){M.get(route("diagnostic_test.new_level"),{params:{dt_id:this.dt_details.higher_score_direction}}).then(r=>{this.dt_index=0,this.current.score=0,this.$page.props.diagnostic_test_categories_label=r.data.category_label,this.$page.props.dt_details=r.data.dt_details,this.$page.props.dt_list=r.data.dt_list,this.current.answer_records=[]}).catch(r=>{console.error(r)})},getLowerLevelDt(){M.get(route("diagnostic_test.new_level"),{params:{dt_id:this.dt_details.lower_score_direction}}).then(r=>{this.dt_index=0,this.current.score=0,this.$page.props.diagnostic_test_categories_label=r.data.category_label,this.$page.props.dt_details=r.data.dt_details,this.$page.props.dt_list=r.data.dt_list}).catch(r=>{console.error(r)})},saveResult(){const r=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;this.error.parent_name=this.form.parent_name==="",this.error.parent_contact=this.form.parent_contact==="",this.error.parent_area_location=this.form.parent_area_location==="",this.error.parent_email=this.form.parent_email===""||!r.test(this.form.parent_email);for(const e in this.error)if(this.error[e]===!0)return;this.submitting=!0,this.form.dt_title=this.$page.props.dt_details.name,M.post(route("diagnostic_test.save_result"),this.form).then(e=>{e&&(this.show_parent_details=!1,this.show_thank_you=!0)}).catch(e=>{console.error(e)})},returnHome(){this.$inertia.get(route("public.diagnostic_test"))},processGraph(){this.current.answer_records=this.form.answer_record.filter(n=>n.dt_id===this.form.eligible_level);const e=this.current.answer_records.map(n=>{const c=this.dt_list.find(i=>i.id===n.question_id);return{...n,category_id:c?c.category_id:null}}).reduce((n,c)=>(c.correct?n[c.question_category_id]=(n[c.question_category_id]||0)+1:n.hasOwnProperty(c.question_category_id)||(n[c.question_category_id]=null),n),{}),t=[];Object.keys(e).forEach((n,c)=>{t[c]=e[n]}),Object.values(t),this.chart_data=t,this.initChart(),this.dt_details.chart_id==1?(this.chart_info=this.$page.props.diagnostic_test_chart_info.filter(n=>n.chart_id===this.dt_details.chart_id),this.show_bar_chart=!0,this.show_scatter_chart=!1):(this.chart_info=this.$page.props.diagnostic_test_chart_info.filter(n=>n.chart_id===this.dt_details.chart_id),this.show_scatter_chart=!0,this.show_bar_chart=!1)},initChart(){this.bar_chart&&this.bar_chart.destroy(),this.scatter_chart&&this.scatter_chart.destroy();const r=this.dt_list.length,e={id:"scatterArbitraryLine",beforeDatasetDraw(w,l,f){const{ctx:y,chartArea:{top:it,bottom:ot,left:nt,right:at,width:lt,height:dt},scales:{x:S,y:T}}=w;$();function $(ct,ht,ut,_t){y.save(),y.beginPath(),y.strokeStyle="rgba(170, 170, 170, 1)",y.lineWidth=3,y.moveTo(S.getPixelForValue(0),T.getPixelForValue(0)),y.lineTo(S.getPixelForValue(r),T.getPixelForValue(r)),y.stroke(),y.restore()}}},t={id:"scatterAnnotationLine",beforeDraw:w=>{if(w.tooltip._active&&w.tooltip._active.length){const l=w.ctx;l.save();const f=w.tooltip._active[0];l.beginPath(),l.moveTo(f.element.x,w.chartArea.top),l.lineTo(f.element.x,f.element.y),l.lineWidth=2,l.strokeStyle="white",l.stroke(),l.restore(),l.beginPath(),l.moveTo(f.element.x,f.element.y),l.lineTo(f.element.x,w.chartArea.bottom),l.lineWidth=2,l.strokeStyle="red",l.stroke(),l.restore(),l.beginPath(),l.moveTo(w.chartArea.left,f.element.y),l.lineTo(f.element.x,f.element.y),l.lineWidth=2,l.strokeStyle="red",l.stroke(),l.restore()}}};let c=document.getElementById("scatter-chart").getContext("2d");const i=new V(c,{type:"scatter",data:{datasets:[{data:[{x:this.chart_data[0]?this.chart_data[0]:0,y:this.chart_data[1]?this.chart_data[1]:0}],label:"Test",borderColor:"rgba(255, 8, 0, 1)",pointStyle:"crossRot",radius:10,hoverRadius:10,fill:!1}]},options:{animation:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1},datalabels:{display:!1}},scales:{y:{min:0,max:5,stepSize:1,ticks:{beginAtZero:!0},title:{display:!0,text:"Operations"}},x:{min:0,max:5,stepSize:1,ticks:{beginAtZero:!0},title:{display:!0,text:"Numbers"}}},ticks:{precision:0},layout:{padding:{top:5}},clip:!1},plugins:[e,t]});this.scatter_chart=i;let v=document.getElementById("bar-chart").getContext("2d");const D=new V(v,{type:"bar",data:{labels:this.diagnostic_test_categories_label,datasets:[{data:this.chart_data,backgroundColor:["#7B66FF","#39A7FF","#508D69","#ED5AB3"],borderWidth:1}]},options:{animation:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{y:{min:0,max:3,stepSize:1,ticks:{beginAtZero:!0}},x:{display:!1,min:0,max:this.dt_list.length,stepSize:1,ticks:{beginAtZero:!0}}},ticks:{precision:0}}});this.bar_chart=D}},watch:{dt_index:{handler(){if(this.dt_list.length)if(this.dt_list.length==this.dt_index){this.chart_data=[];const r=this.current.score,e=this.dt_details.higher_score,t=this.dt_details.higher_score_direction,n=this.dt_details.lower_score,c=this.dt_details.lower_score_direction;this.form.eligible_level?r==0||r<n?this.can_go_lower?c?this.getLowerLevelDt():(this.show_chart=!0,this.show_quiz=!1):(this.getLowerLevelDt(),this.show_chart=!0,this.show_quiz=!1):r>n&&r>e?this.can_go_higher?t?(this.form.eligible_level=this.dt_details.id,this.getHigherLevelDt()):(this.form.eligible_level=this.dt_details.id,this.show_chart=!0,this.show_quiz=!1):(this.form.eligible_level=this.dt_details.id,this.show_chart=!0,this.show_quiz=!1):(this.form.eligible_level=this.dt_details.id,this.show_chart=!0,this.show_quiz=!1):t&&r>n&&r>e?(this.form.eligible_level=this.dt_details.id,this.getHigherLevelDt(),this.can_go_lower=!1):c&&r<n?(this.getLowerLevelDt(),this.can_go_higher=!1):(this.form.eligible_level=this.dt_details.id,this.show_chart=!0,this.show_quiz=!1),this.processGraph()}else this.current.question=this.dt_list[this.dt_index].question?this.dt_list[this.dt_index].question:"",this.current.question_type=this.dt_list[this.dt_index].question_type?this.dt_list[this.dt_index].question_type:"",this.current.question_image=this.dt_list[this.dt_index].question_image?this.dt_list[this.dt_index].question_image:"",this.current.remarks=this.dt_list[this.dt_index].remarks?this.dt_list[this.dt_index].remarks:"",this.current.answers=this.dt_list[this.dt_index].answers?this.dt_list[this.dt_index].answers:"",this.clearAllAnswers(),this.current.question_type==3&&(this.current.criterions=this.dt_list[this.dt_index].answers.criterion?this.dt_list[this.dt_index].answers.criterion:"",this.current.matrix_items=[],this.current.matrix_sequence=[],this.dt_list[this.dt_index].answers.map((r,e)=>{var t=r.element.value.split(", ");t.map(n=>{this.current.matrix_items.push(n),this.shuffleArray(this.current.matrix_items)}),this.current.matrix_sequence[e]=t,this.selected_answer.matrix_sorting[e]=[]}))},immediate:!0}}},ls=Object.assign(rt,{__name:"Start",setup(r){return(e,t)=>{const n=H("Button"),c=H("draggable");return o(),a(_,null,[x(z(B),{title:"Diagnostic Test"}),s("div",E,[s("div",N,[g(s("div",O,[g(s("div",U,[t[12]||(t[12]=s("canvas",{id:"scatter-chart",class:"hidden m-0"},null,-1)),s("div",Z,[t[11]||(t[11]=s("svg",{class:"flex-shrink-0 inline w-4 h-4 me-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1)),s("div",R,[(o(!0),a(_,null,b(e.chart_info,i=>(o(),a("span",null,[s("span",{class:k(["font-semibold","text-["+i.category_color+"]"])},h(i.category_name)+":",3),u(" "+h(i.category_description),1)]))),256))])])],512),[[C,e.show_scatter_chart]]),g(s("div",W,[t[14]||(t[14]=s("canvas",{id:"bar-chart",class:"hidden m-0"},null,-1)),s("div",K,[t[13]||(t[13]=s("svg",{class:"flex-shrink-0 inline w-4 h-4 me-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{d:"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"})],-1)),s("div",G,[(o(!0),a(_,null,b(e.chart_info,i=>(o(),a("span",null,[s("span",{class:"font-semibold",style:j("color: "+i.category_color)},h(i.category_name)+":",5),u(" "+h(i.category_description),1)]))),256))])])],512),[[C,e.show_bar_chart]]),s("div",Q,[x(n,{onClick:e.parentDetails},{default:p(()=>t[15]||(t[15]=[u("Next Step")])),_:1,__:[15]},8,["onClick"])])],512),[[C,e.show_chart]]),e.show_parent_details?(o(),A(L,{key:0,class:"w-full max-w-lg"},{content:p(()=>[t[22]||(t[22]=s("div",{class:"flex flex-col"},[s("div",{class:"font-semibold leading-5 text-xl"},"Final step"),s("div",{class:"mt-1 leading-5 text-slate-500 text-sm"},"Kindly fill out the parent's details to receive the generated result.")],-1)),t[23]||(t[23]=s("hr",null,null,-1)),s("div",Y,[s("div",J,[t[16]||(t[16]=s("label",{class:"block text-sm text-gray-700 font-bold",for:""},[u("Parent's Name "),s("span",{class:"text-red-500"},"*")],-1)),g(s("input",{type:"text",class:k(["mb-5 rounded-[4px] border p-3",e.error.parent_name?"border-red-500":"border-gray-500"]),"onUpdate:modelValue":t[0]||(t[0]=i=>e.form.parent_name=i),autocomplete:"off",required:""},null,2),[[q,e.form.parent_name]])]),s("div",X,[t[17]||(t[17]=s("label",{class:"block text-sm text-gray-700 font-bold",for:""},[u("Parent's Contact Number "),s("span",{class:"text-red-500"},"*")],-1)),g(s("input",{type:"text",class:k(["w-full mb-5 rounded-[4px] border p-3",e.error.parent_contact?"border-red-500":"border-gray-500"]),"onUpdate:modelValue":t[1]||(t[1]=i=>e.form.parent_contact=i),autocomplete:"off",onInput:t[2]||(t[2]=(...i)=>e.restrictToNumbers&&e.restrictToNumbers(...i)),required:""},null,34),[[q,e.form.parent_contact]])]),s("div",ee,[t[18]||(t[18]=s("label",{class:"block text-sm text-gray-700 font-bold",for:""},[u("Parent's Area/Location "),s("span",{class:"text-red-500"},"*")],-1)),g(s("input",{type:"text",class:k(["border rounded-[4px] p-3",e.error.parent_area_location?"border-red-500":"border-gray-500"]),"onUpdate:modelValue":t[3]||(t[3]=i=>e.form.parent_area_location=i),autocomplete:"off",placeholder:"e.g. Puchong, Selangor",required:""},null,2),[[q,e.form.parent_area_location]])]),s("div",te,[t[19]||(t[19]=s("label",{class:"block text-sm text-gray-700 font-bold",for:""},[u("Parent's Email "),s("span",{class:"text-red-500"},"*")],-1)),g(s("input",{type:"email",class:k(["border rounded-[4px] p-3",e.error.parent_email?"border-red-500":"border-gray-500"]),"onUpdate:modelValue":t[4]||(t[4]=i=>e.form.parent_email=i),autocomplete:"off",required:""},null,2),[[q,e.form.parent_email]])]),t[21]||(t[21]=s("hr",null,null,-1)),s("div",se,[g(s("input",{id:"link-checkbox",type:"checkbox",value:"",class:"w-4 h-4 text-indigo-600 bg-gray-100 border-gray-300 rounded focus:ring-0 cursor-pointer","onUpdate:modelValue":t[5]||(t[5]=i=>e.form.has_edu_teacher_email=i)},null,512),[[P,e.form.has_edu_teacher_email]]),t[20]||(t[20]=s("label",{for:"link-checkbox",class:"ms-2 text-sm font-medium text-gray-900 cursor-pointer"},"Keep a copy for myself",-1))]),e.form.has_edu_teacher_email?(o(),a("div",re,[g(s("input",{type:"email",class:"border rounded-[4px] p-3 border-gray-500","onUpdate:modelValue":t[6]||(t[6]=i=>e.form.edu_teacher_email=i),autocomplete:"off",placeholder:"Your Email"},null,512),[[q,e.form.edu_teacher_email]])])):m("",!0),x(n,{type:"submit",class:k(e.submitting?"bg-gray-800":"bg-gray-800 hover:bg-gray-700"),onClick:t[7]||(t[7]=i=>e.submitting?"":e.saveResult())},{default:p(()=>[u(h(e.submitting?"Submitting...":"Submit"),1)]),_:1},8,["class"])]),s("div",ie,[e.submitting?(o(),a("span",oe,"Please do not close your browser or current tab")):m("",!0)])]),_:1})):m("",!0),e.show_thank_you?(o(),A(L,{key:1,class:"w-full max-w-lg"},{content:p(()=>[s("div",ne,[t[24]||(t[24]=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"text-green-600 w-20 h-20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[25]||(t[25]=s("h1",{class:"font-mono text-2xl font-bold"},"Thank You!",-1)),s("h3",ae,h(e.$page.props.final_message),1)]),x(n,{type:"submit",onClick:e.returnHome},{default:p(()=>t[26]||(t[26]=[u("Return Home")])),_:1,__:[26]},8,["onClick"])]),_:1})):m("",!0),e.show_quiz?(o(),A(L,{key:2,class:"w-full max-w-3xl"},{content:p(()=>[s("div",le,[s("span",de,h(r.dt_details.name),1),s("nav",ce,[s("p",he,"Question "+h(e.dt_index+1)+" of "+h(r.dt_list.length),1),s("ol",ue,[(o(!0),a(_,null,b(r.dt_list,(i,d)=>(o(),a("li",{key:d},[e.current.answer_records[d]&&e.current.answer_records[d].correct?(o(),a("div",_e,[s("span",me,h(d),1)])):e.dt_index==d?(o(),a("div",pe,[t[27]||(t[27]=s("span",{class:"absolute w-4 h-4 sm:w-5 sm:h-5 p-px flex"},[s("span",{class:"w-full h-full rounded-full bg-indigo-500"})],-1)),t[28]||(t[28]=s("span",{class:"relative block w-2.5 h-2.5 sm:w-3.5 sm:h-3.5 bg-white rounded-full"},null,-1)),s("span",fe,h(d),1)])):e.current.answer_records[d]&&!e.current.answer_records[d].correct?(o(),a("div",ge,[s("span",we,h(d),1)])):(o(),a("div",xe,[s("span",be,h(d),1)]))]))),128))])]),e.current.question!=""&&e.current.question_type!=4?(o(),a("div",ye,[s("div",ve,[s("h1",ke,h(e.current.question),1)])])):m("",!0),e.current.remarks?(o(),a("div",qe,[s("span",Ce,"* "+h(e.current.remarks)+" *",1)])):m("",!0),e.current.question_image?(o(),a("div",Ae,[s("img",{src:"/storage/"+e.current.question_image,class:"select-none rounded-lg",alt:""},null,8,Me)])):m("",!0),e.current.question_type==1?(o(),a("div",Le,[(o(!0),a(_,null,b(e.current.answers,(i,d)=>(o(),a("div",{class:"select-none text-white flex justify-center items-center rounded bg-indigo-600 hover:bg-indigo-500 hover:text-white cursor-pointer drop-shadow",onClick:v=>e.saveSingleChoice(d)},[i.image_name?(o(),a("div",{key:0,class:"p-1 w-32",innerHTML:i.answer},null,8,Te)):(o(),a("div",He,[s("span",{innerHTML:i.answer},null,8,je)]))],8,Se))),256))])):m("",!0),e.current.question_type==2?(o(),a("div",Ve,[s("div",Be,[(o(!0),a(_,null,b(e.current.answers,(i,d)=>(o(),a("div",{class:k(["flex justify-center items-center rounded cursor-pointer drop-shadow",e.checkSingleValueExistsInArray(d)?"text-white bg-indigo-600":"text-white bg-indigo-400"]),onClick:v=>e.selectMultipleChoices(d)},[i.image_name?(o(),a("div",{key:0,class:"p-1 w-32",innerHTML:i.answer},null,8,$e)):(o(),a("div",ze,[s("span",{innerHTML:i.answer},null,8,Pe)]))],10,De))),256))]),s("div",Fe,[x(n,{onClick:t[8]||(t[8]=i=>e.saveMultipleChoices())},{default:p(()=>t[29]||(t[29]=[u("Confirm Answers")])),_:1,__:[29]})])])):m("",!0),e.current.question_type==3?(o(),a("div",Ie,[s("div",Ee,[t[30]||(t[30]=s("h3",{class:"font-semibold text-xl"},"Elements",-1)),x(c,{class:"flex flex-wrap gap-4 border-2 p-3 rounded border-gray-300 min-h-[30px]",list:e.current.matrix_items,group:"matrix_sorting",onChange:e.log},{default:p(()=>[(o(!0),a(_,null,b(e.current.matrix_items,i=>(o(),a("div",{class:"flex items-center border px-2 py-1 rounded border-indigo-400 bg-indigo-300 cursor-grab focus:cursor-grab criterion_image",innerHTML:i},null,8,Ne))),256))]),_:1},8,["list","onChange"])]),(o(!0),a(_,null,b(e.current.answers,(i,d)=>(o(),a("div",Oe,[s("div",Ue,[s("div",Ze,[i.criterion.image_name!=null?(o(),a("div",{key:0,class:"p-1 w-[5rem]",innerHTML:i.criterion.value},null,8,Re)):(o(),a("div",We,[s("span",{innerHTML:i.criterion.value},null,8,Ke)]))])]),t[31]||(t[31]=s("div",{class:"flex flex-col space-y-28 justify-center"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",fill:"currentColor",class:"bi bi-caret-right-fill",viewBox:"0 0 16 16"},[s("path",{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"})])],-1)),s("div",Ge,[x(c,{class:"flex flex-wrap items-center border-2 border-indigo-400 min-h-[5rem] min-w-[12rem] rounded-lg space-x-2 p-3",list:e.selected_answer.matrix_sorting[d],group:"matrix_sorting",onChange:e.log},{default:p(()=>[(o(!0),a(_,null,b(e.selected_answer.matrix_sorting[d],v=>(o(),a("div",{class:"flex items-center border px-2 py-1 rounded border-indigo-400 bg-indigo-300 cursor-grab focus:cursor-grab criterion_image",innerHTML:v},null,8,Qe))),256))]),_:2},1032,["list","onChange"])])]))),256)),s("div",Ye,[x(n,{onClick:t[9]||(t[9]=i=>e.saveMatrixSorting())},{default:p(()=>t[32]||(t[32]=[u("Confirm Answers")])),_:1,__:[32]})])])):m("",!0),e.current.question_type==4?(o(),a("div",Je,[s("div",Xe,[s("h1",et,[(o(!0),a(_,null,b(e.sentence_parts,(i,d)=>(o(),a(_,{key:d},[i.input?g((o(),a("input",{key:0,type:"text","onUpdate:modelValue":v=>i.answer=v,style:j([i.answer.length<2?"width: 2.6rem":"width: "+(i.answer.length*1+2)+"rem"]),class:"text-center h-8 sm:h-10 focus:ring-0 focus:border-indigo-300 font-mono font-bold rounded-md text-sm sm:text-lg border border-gray-500 tracking-widest"},null,12,tt)),[[q,i.answer]]):(o(),a(_,{key:1},[u(h(i.text),1)],64))],64))),128))])]),s("div",st,[x(n,{onClick:t[10]||(t[10]=i=>e.saveFillInBlankAnswers())},{default:p(()=>t[33]||(t[33]=[u("Confirm Answers")])),_:1,__:[33]})])])):m("",!0)])]),_:1})):m("",!0)])])],64)}}});export{ls as default};
