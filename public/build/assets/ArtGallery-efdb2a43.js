import{_ as h}from"./Authenticated-ccbb87bd.js";import{H as w}from"./@inertiajs-72b4b122.js";import{N as x}from"./vue-easy-lightbox-948259a2.js";import v from"./Header-08d90ec7.js";import{s as f}from"./@vueform-8c23d62f.js";import{s as u}from"./simplebar-vue-1b5fe0cf.js";import{y as a,x as i,u as p,Q as m,F as c,t as l,W as y,K as k,z as r,q as g,C as n,J as $}from"./@vue-3ecac556.js";import"./@heroicons-348181b9.js";import"./app-6cbce3f4.js";import"./axios-3a665b0f.js";import"./pusher-js-b1694987.js";import"./cropperjs-274ed722.js";import"./laravel-vite-plugin-d10ca5e8.js";import"./vue-debounce-ed417ae1.js";import"./v-calendar-4075303e.js";import"./radix-vue-0dbe0706.js";import"./@floating-ui-24f01f9d.js";import"./@internationalized-2f03b566.js";import"./clsx-0839fdbe.js";import"./tailwind-merge-05141ada.js";import"./@vueuse-25519c21.js";import"./class-variance-authority-ff2c9236.js";import"./@radix-icons-3edfb593.js";import"./@vuepic-e1682e24.js";import"./@babel-1b80a44a.js";import"./lodash.isequal-1ba6c16d.js";import"./vue-7c584690.js";import"./lodash.clonedeep-8ef52793.js";import"./qs-dba4bf9b.js";import"./side-channel-218a49f6.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-b36cc063.js";import"./deepmerge-89e33937.js";import"./nprogress-34327965.js";import"./@headlessui-5e870782.js";import"./simplebar-core-89d52a58.js";import"./lodash-es-f4fee5ac.js";const S={class:"max-w-xl mx-auto border shadow bg-white rounded-lg px-4 mt-14"},A={class:"flex justify-evenly sm:justify-center space-x-8 md:space-x-10 pt-3 pb-4 font-medium"},H={key:0,class:"flex items-center space-y-3"},L={class:"mb-3 flex flex-col space-y-2 justify-between items-end mt-3"},_={key:1,class:"bg-white overflow-hidden shadow rounded-lg border p-6"},C={class:"grid grid-cols-2 gap-4 md:grid-cols-3"},j=["src","onClick"],V={key:0,class:"grid grid-cols-2 gap-4 md:grid-cols-3 mt-4"},D={key:2,class:"flex justify-center mx-1 mt-10"},Z={key:3,class:"flex justify-center mx-1 mt-10"},M={components:{Multiselect:f,simplebar:u},data(){return{lightbox:{open:!1,images:[{src:""}]},list:{levels:this.$page.props.levels},filter:{level_id:1},searching:{artworks:!1},loading:{artworks:!1}}},watch:{"filter.level_id":{handler(){this.getArtwork()},deep:!0}},methods:{getArtwork(){if(this.filter.level_id){if(this.searching.artworks)return;this.searching.artworks=!0,axios.get(route("parent.art_gallery.get_artworks"),{params:this.filter}).then(s=>{this.$page.props.artworks.data=s.data,this.searching.artworks=!1})}},showImage(s,e){this.lightbox.images[0].src=window.location.origin+"/storage/art_gallery/"+s,this.lightbox.open=!this.lightbox.open},handleArtworkScroll(){const s=this.$refs.artwork_container.$el.querySelector(".simplebar-content-wrapper"),e=s.scrollTop,t=s.scrollHeight,o=s.clientHeight;e+o>=t-100&&this.$page.props.artworks.next_page_url&&(this.loading.artworks||(this.loading.artworks=!0,axios.get(route("parent.student_artworks",this.filter.level_id),{params:{page:this.$page.props.artworks.current_page+1}}).then(d=>{d.data.data.forEach(b=>{this.$page.props.artworks.data.push(b)}),this.$page.props.artworks.current_page=d.data.current_page,this.$page.props.artworks.next_page_url=d.data.next_page_url,this.loading.artworks=!1})))}}},Ce=Object.assign(M,{__name:"ArtGallery",setup(s){return(e,t)=>(l(),a(c,null,[i(p(w),{title:"Art Gallery"}),i(v,null,{default:m(()=>[y(k(e.$page.props.session_data.current_active_programme.name),1)]),_:1}),i(h,null,{default:m(()=>[r("div",S,[i(p(u),{"data-simplebar-auto-hide":"true"},{default:m(()=>[r("div",A,[r("div",{class:g(["flex flex-col items-center cursor-pointer hover:scale-105 duration-150 whitespace-nowrap",e.route().current("parent.stories")?"font-extrabold":""]),onClick:t[0]||(t[0]=o=>e.$inertia.get(e.route("parent.stories",e.$page.props.session_data.current_active_programme.encrypted_id)))},t[8]||(t[8]=[r("img",{src:"/images/parents/stories.png",class:"w-10 h-10",alt:""},null,-1),r("span",{class:"text-sm"},"Stories",-1)]),2),r("div",{class:g(["flex flex-col items-center cursor-pointer hover:scale-105 duration-150 whitespace-nowrap",e.route().current("parent.progress_reports")?"font-extrabold":""]),onClick:t[1]||(t[1]=o=>e.$inertia.get(e.route("parent.progress_reports")))},t[9]||(t[9]=[r("img",{src:"/images/parents/progress_report.png",class:"w-10 h-10",alt:""},null,-1),r("span",{class:"text-sm"},"Progress Reports",-1)]),2),r("div",{class:g(["flex flex-col items-center cursor-pointer hover:scale-105 duration-150 whitespace-nowrap",e.route().current("parent.invoices")?"font-extrabold":""]),onClick:t[2]||(t[2]=o=>e.$inertia.get(e.route("parent.invoices")))},t[10]||(t[10]=[r("img",{src:"/images/parents/fee_invoice.png",class:"w-10 h-10",alt:""},null,-1),r("span",{class:"text-sm"},"Invoices",-1)]),2),e.$page.props.session_data.current_active_programme.id==3||e.$page.props.session_data.current_active_programme.id==5?(l(),a("div",{key:0,class:g(["flex flex-col items-center cursor-pointer hover:scale-105 duration-150 whitespace-nowrap",e.route().current("parent.art_gallery")?"font-extrabold":""]),onClick:t[3]||(t[3]=o=>e.$inertia.get(e.route("parent.art_gallery")))},t[11]||(t[11]=[r("img",{src:"/images/parents/art_gallery.png",class:"w-10 h-10",alt:""},null,-1),r("span",{class:"text-sm"},"Art Gallery",-1)]),2)):n("",!0),e.$page.props.session_data.current_active_programme.id==3||e.$page.props.session_data.current_active_programme.id==5?(l(),a("div",{key:1,class:g(["flex flex-col items-center cursor-pointer hover:scale-105 duration-150 whitespace-nowrap",e.route().current("parent.art_book")?"font-extrabold":""]),onClick:t[4]||(t[4]=o=>e.$inertia.get(e.route("parent.art_book")))},t[12]||(t[12]=[r("img",{src:"/images/parents/art_book.png",class:"w-10 h-10",alt:""},null,-1),r("span",{class:"text-sm"},"Art Book",-1)]),2)):n("",!0)])]),_:1})]),r("div",{class:"max-w-xl mx-auto mt-10",onScroll:t[6]||(t[6]=o=>e.handleScroll()),ref:"scrollContainer"},[e.$page.props.artworks.data?(l(),a("div",H,t[13]||(t[13]=[r("h2",{class:"text-lg md:text-xl mx-1 font-extrabold"},"Art Gallery",-1)]))):n("",!0),r("div",L,[i(p(f),{modelValue:e.filter.level_id,"onUpdate:modelValue":t[5]||(t[5]=o=>e.filter.level_id=o),options:e.$page.props.levels,valueProp:"id",placeholder:"Select Level",label:"name",closeOnSelect:!0,canDeselect:!1,classes:{container:"relative mx-auto w-full flex items-center justify-end box-border rounded-lg shadow cursor-pointer border border-gray-200 rounded bg-white text-base leading-snug outline-none",containerDisabled:"cursor-default bg-gray-100",containerOpen:"rounded-b-none",containerOpenTop:"rounded-t-none",containerActive:"ring-0 ring-opacity-30",singleLabel:"flex items-center h-full max-w-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 pr-16 box-border rtl:left-auto rtl:right-0 rtl:pl-0 rtl:pr-3.5",singleLabelText:"overflow-ellipsis overflow-hidden block whitespace-nowrap max-w-full",multipleLabel:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 rtl:left-auto rtl:right-0 rtl:pl-0 rtl:pr-3.5",search:"w-full absolute inset-0 outline-none focus:ring-0 appearance-none box-border border-0 text-base font-sans bg-white rounded pl-3.5 rtl:pl-0 rtl:pr-3.5",tags:"flex-grow flex-shrink flex flex-wrap items-center mt-1 pl-2 rtl:pl-0 rtl:pr-2",tag:"bg-green-500 text-white text-sm font-semibold py-0.5 pl-2 rounded mr-1 mb-1 flex items-center whitespace-nowrap rtl:pl-0 rtl:pr-2 rtl:mr-0 rtl:ml-1",tagDisabled:"pr-2 opacity-50 rtl:pl-2",tagRemove:"flex items-center justify-center p-1 mx-0.5 rounded-sm hover:bg-black hover:bg-opacity-10 group",tagRemoveIcon:"bg-multiselect-remove bg-center bg-no-repeat opacity-30 inline-block w-3 h-3 group-hover:opacity-60",tagsSearchWrapper:"inline-block relative mx-1 mb-1 flex-grow flex-shrink h-full",tagsSearch:"absolute inset-0 border-0 outline-none focus:ring-0 appearance-none p-0 text-base font-sans box-border w-full",tagsSearchCopy:"invisible whitespace-pre-wrap inline-block h-px",placeholder:"flex items-center h-full absolute left-0 top-0 pointer-events-none bg-transparent leading-snug pl-3.5 text-gray-400 rtl:left-auto rtl:right-0 rtl:pl-0 rtl:pr-3.5",caret:"bg-multiselect-caret bg-center bg-no-repeat w-2.5 h-4 py-px box-content mr-3.5 relative z-10 opacity-40 flex-shrink-0 flex-grow-0 transition-transform transform pointer-events-none rtl:mr-0 rtl:ml-3.5",caretOpen:"rotate-180 pointer-events-auto",clear:"pr-3.5 relative z-10 opacity-40 transition duration-300 flex-shrink-0 flex-grow-0 flex hover:opacity-80 rtl:pr-0 rtl:pl-3.5",clearIcon:"bg-multiselect-remove bg-center bg-no-repeat w-2.5 h-4 py-px box-content inline-block",spinner:"bg-multiselect-spinner bg-center bg-no-repeat w-4 h-4 z-10 mr-3.5 animate-spin flex-shrink-0 flex-grow-0 rtl:mr-0 rtl:ml-3.5",inifite:"flex items-center justify-center w-full",inifiteSpinner:"bg-multiselect-spinner bg-center bg-no-repeat w-4 h-4 z-10 animate-spin flex-shrink-0 flex-grow-0 m-3.5",dropdown:"max-h-60 absolute -left-px -right-px bottom-0 transform translate-y-full border border-gray-300 -mt-px overflow-y-scroll z-50 bg-white flex flex-col rounded-b",dropdownTop:"-translate-y-full top-px bottom-auto rounded-b-none rounded-t",dropdownHidden:"hidden",options:"flex flex-col p-0 m-0 list-none",optionsTop:"",group:"p-0 m-0",groupLabel:"flex text-sm box-border items-center justify-start text-left py-1 px-3 font-semibold bg-gray-200 cursor-default leading-normal",groupLabelPointable:"cursor-pointer",groupLabelPointed:"bg-gray-300 text-gray-700",groupLabelSelected:"bg-indigo-600 text-white",groupLabelDisabled:"bg-gray-100 text-gray-300 cursor-not-allowed",groupLabelSelectedPointed:"bg-indigo-600 text-white opacity-90",groupLabelSelectedDisabled:"text-indigo-100 bg-indigo-600 bg-opacity-50 cursor-not-allowed",groupOptions:"p-0 m-0",option:"flex items-center justify-start box-border text-left cursor-pointer text-base leading-snug py-2 px-3",optionPointed:"text-gray-800 bg-gray-100",optionSelected:"text-white bg-indigo-500",optionDisabled:"text-gray-300 cursor-not-allowed",optionSelectedPointed:"text-white bg-indigo-500 opacity-90",optionSelectedDisabled:"text-indigo-100 bg-indigo-500 bg-opacity-50 cursor-not-allowed",noOptions:"py-2 px-3 text-gray-600 bg-white text-left",noResults:"py-2 px-3 text-gray-600 bg-white text-left",fakeInput:"bg-transparent absolute left-0 right-0 -bottom-px w-full h-px border-0 p-0 appearance-none outline-none text-transparent",spacer:"h-9 py-px box-content"}},null,8,["modelValue","options"])]),e.$page.props.artworks.data.length&&!e.searching.artworks?(l(),a("div",_,[i(p(u),{"data-simplebar-auto-hide":"true",class:"max-h-96",onScroll:e.handleArtworkScroll,ref:"artwork_container"},{default:m(()=>[r("div",C,[(l(!0),a(c,null,$(e.$page.props.artworks.data,o=>(l(),a("div",null,[r("img",{class:"object-cover object-center w-full h-40 max-w-full rounded-lg cursor-pointer",src:"/storage/art_gallery/"+o.filename,onClick:d=>e.showImage(o.filename,o.activity)},null,8,j)]))),256))]),e.loading.artworks?(l(),a("div",V,t[14]||(t[14]=[r("div",{class:"flex items-center justify-center h-40 mb-4 bg-gray-200 rounded animate-pulse"},[r("svg",{class:"w-10 h-10 text-gray-300","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 20"},[r("path",{d:"M14.066 0H7v5a2 2 0 0 1-2 2H0v11a1.97 1.97 0 0 0 1.934 2h12.132A1.97 1.97 0 0 0 16 18V2a1.97 1.97 0 0 0-1.934-2ZM10.5 6a1.5 1.5 0 1 1 0 2.999A1.5 1.5 0 0 1 10.5 6Zm2.221 10.515a1 1 0 0 1-.858.485h-8a1 1 0 0 1-.9-1.43L5.6 10.039a.978.978 0 0 1 .936-.57 1 1 0 0 1 .9.632l1.181 2.981.541-1a.945.945 0 0 1 .883-.522 1 1 0 0 1 .879.529l1.832 3.438a1 1 0 0 1-.031.988Z"}),r("path",{d:"M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.98 2.98 0 0 0 .13 5H5Z"})])],-1),r("div",{class:"flex items-center justify-center h-40 mb-4 bg-gray-200 rounded animate-pulse"},[r("svg",{class:"w-10 h-10 text-gray-300","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 20"},[r("path",{d:"M14.066 0H7v5a2 2 0 0 1-2 2H0v11a1.97 1.97 0 0 0 1.934 2h12.132A1.97 1.97 0 0 0 16 18V2a1.97 1.97 0 0 0-1.934-2ZM10.5 6a1.5 1.5 0 1 1 0 2.999A1.5 1.5 0 0 1 10.5 6Zm2.221 10.515a1 1 0 0 1-.858.485h-8a1 1 0 0 1-.9-1.43L5.6 10.039a.978.978 0 0 1 .936-.57 1 1 0 0 1 .9.632l1.181 2.981.541-1a.945.945 0 0 1 .883-.522 1 1 0 0 1 .879.529l1.832 3.438a1 1 0 0 1-.031.988Z"}),r("path",{d:"M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.98 2.98 0 0 0 .13 5H5Z"})])],-1),r("div",{class:"flex items-center justify-center h-40 mb-4 bg-gray-200 rounded animate-pulse"},[r("svg",{class:"w-10 h-10 text-gray-300","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 20"},[r("path",{d:"M14.066 0H7v5a2 2 0 0 1-2 2H0v11a1.97 1.97 0 0 0 1.934 2h12.132A1.97 1.97 0 0 0 16 18V2a1.97 1.97 0 0 0-1.934-2ZM10.5 6a1.5 1.5 0 1 1 0 2.999A1.5 1.5 0 0 1 10.5 6Zm2.221 10.515a1 1 0 0 1-.858.485h-8a1 1 0 0 1-.9-1.43L5.6 10.039a.978.978 0 0 1 .936-.57 1 1 0 0 1 .9.632l1.181 2.981.541-1a.945.945 0 0 1 .883-.522 1 1 0 0 1 .879.529l1.832 3.438a1 1 0 0 1-.031.988Z"}),r("path",{d:"M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.98 2.98 0 0 0 .13 5H5Z"})])],-1)]))):n("",!0)]),_:1},8,["onScroll"])])):n("",!0),!e.$page.props.artworks.data.length&&!e.searching.artworks?(l(),a("div",D,t[15]||(t[15]=[r("span",{class:"text-slate-500"},"No Artworks Found",-1)]))):n("",!0),e.searching.artworks?(l(),a("div",Z,t[16]||(t[16]=[r("span",{class:"text-slate-500"},"Searching for student's artworks...",-1)]))):n("",!0)],544)]),_:1}),i(p(x),{onHide:t[7]||(t[7]=o=>e.lightbox.open=!1),visible:e.lightbox.open,zoomDisabled:!0,rotateDisabled:!0,moveDisabled:!0,imgs:e.lightbox.images,index:0,dblclickDisabled:!0,maskClosable:!0},null,8,["visible","imgs"])],64))}});export{Ce as default};
