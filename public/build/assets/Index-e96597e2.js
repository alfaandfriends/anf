import{B as V}from"./Authenticated-da5fe39a.js";import{S,aq as R,ar as j,as as P,at as U,au as F}from"./radix-vue-0dbe0706.js";import{t as d,v as c,Q as r,B as $,R as C,S as q,u as o,c as M,x as t,D as O,y as g,F as D,bf as w,bg as H,z as l,A as z,C as f,W as a,J as A,K as _}from"./@vue-3ecac556.js";import{c as I}from"./app-6cbce3f4.js";import{H as T,L as K}from"./@inertiajs-72b4b122.js";import{h as L}from"./moment-a9aaa855.js";import{_ as E}from"./Card-aacd8da5.js";import{_ as W,a as x,b as k,c as v,d as Y,e as h}from"./TableRow-91ce9765.js";import{_ as J}from"./DialogModal-691e4667.js";import{P as Q}from"./Pagination-f2f2631e.js";import{_ as G}from"./DeleteConfirmation-2b4e6c75.js";import{a as X}from"./@radix-icons-3edfb593.js";import{F as Z,C as ee,h as se}from"./lucide-vue-next-214c8f72.js";import"./ApplicationLogo-fd2f7b3a.js";import"./class-variance-authority-ff2c9236.js";import"./clsx-0839fdbe.js";import"./DialogDescription-c92c752a.js";import"./@floating-ui-24f01f9d.js";import"./@internationalized-2f03b566.js";import"./axios-3a665b0f.js";import"./pusher-js-b1694987.js";import"./@vueform-8c23d62f.js";import"./cropperjs-274ed722.js";import"./laravel-vite-plugin-d10ca5e8.js";import"./vue-debounce-ed417ae1.js";import"./v-calendar-4075303e.js";import"./tailwind-merge-05141ada.js";import"./@vueuse-25519c21.js";import"./@vuepic-e1682e24.js";import"./@babel-1b80a44a.js";import"./lodash.isequal-1ba6c16d.js";import"./vue-7c584690.js";import"./lodash.clonedeep-8ef52793.js";import"./qs-dba4bf9b.js";import"./side-channel-218a49f6.js";import"./get-intrinsic-88feedc6.js";import"./es-errors-82fd953f.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-1353c55e.js";import"./function-bind-61637ca6.js";import"./hasown-bc561cf0.js";import"./call-bind-9ec8ebd8.js";import"./set-function-length-ecd19468.js";import"./define-data-property-d38573ea.js";import"./es-define-property-cfa03815.js";import"./gopd-4c4454f6.js";import"./has-property-descriptors-68e2873e.js";import"./object-inspect-b36cc063.js";import"./deepmerge-89e33937.js";import"./nprogress-34327965.js";const re={__name:"Tooltip",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},delayDuration:{type:Number,required:!1},disableHoverableContent:{type:Boolean,required:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1}},emits:["update:open"],setup(n,{emit:s}){const u=S(n,s);return(y,p)=>(d(),c(o(R),C(q(o(u))),{default:r(()=>[$(y.$slots,"default")]),_:3},16))}},te=Object.assign({inheritAttrs:!1},{__name:"TooltipContent",props:{forceMount:{type:Boolean,required:!1},ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1,default:4},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(n,{emit:s}){const e=n,m=s,u=M(()=>{const{class:p,...b}=e;return b}),y=S(u,m);return(p,b)=>(d(),c(o(P),null,{default:r(()=>[t(o(j),O({...o(y),...p.$attrs},{class:o(I)("z-50 overflow-hidden rounded-md bg-slate-900 px-3 py-1.5 text-xs text-slate-50 animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:bg-slate-50 dark:text-slate-900",e.class)}),{default:r(()=>[$(p.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),oe={__name:"TooltipProvider",props:{delayDuration:{type:Number,required:!1},skipDelayDuration:{type:Number,required:!1},disableHoverableContent:{type:Boolean,required:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1}},setup(n){const s=n;return(e,m)=>(d(),c(o(U),C(q(s)),{default:r(()=>[$(e.$slots,"default")]),_:3},16))}},ae={__name:"TooltipTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(n){const s=n;return(e,m)=>(d(),c(o(F),C(q(s)),{default:r(()=>[$(e.$slots,"default")]),_:3},16))}},le={class:"flex items-center justify-between space-x-2"},ie={class:"flex justify-between space-x-2"},ne={class:"relative"},de={key:0,class:"grid grid-cols-1 xl:grid-cols-2 2xl:grid-cols-5 gap-2"},pe={class:""},ue={class:"flex justify-center space-x-2"},me={class:"p-1 grid grid-cols-1 gap-4"},fe={key:0,class:"flex items-center justify-center p-5 h-72"},ce={key:1,class:""},_e=["innerHTML"],ge={key:1,class:"flex justify-center"},ye=["src"],he={key:2,class:"flex justify-center"},ve=["src"],be={key:3,class:"flex justify-center"},we=["src"],$e={class:"flex justify-center"},ke={class:"w-full px-2 mb-3"},Ce={class:"mt-6"},qe={class:"divide-y divide-gray-100"},Be={class:"px-4 py-2 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},De={class:"px-4 py-2 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},Le={class:"px-4 py-2 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},Se={class:"px-4 py-2 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},Te={class:"px-4 py-2 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},Ne={class:"px-4 py-2 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0"},Ve={components:{Head:T,Link:K},data(){return{show_copied:!1,show_filters:!1,loading_resource:!1,show_resource:!1,confirmation:{is_open:!1,route_name:"",id:""},params:{search:this.$page.props.filter?this.$page.props.filter.search:"",programme_id:this.$page.props.filter?this.$page.props.filter.programme_id:"",level:this.$page.props.filter.level?this.$page.props.filter.level:"",language:this.$page.props.filter.language?this.$page.props.filter.language:""},resource_data:[]}},methods:{viewResource(n){this.resource_data=[],this.show_resource=!0,this.loading_resource=!0,axios.get(route("teacher_resources.get_resource"),{params:{resource_id:n}}).then(s=>{this.resource_data=s.data,this.loading_resource=!1})},editResource(n){this.$inertia.get(route("teacher_resources.edit"),{resource_id:n})},deleteResource(n){this.confirmation.route_name="teacher_resources.destroy",this.confirmation.id=n,this.confirmation.is_open=!0},baseUrl(){const{protocol:n,host:s}=window.location;return`${n}//${s}`},downloadFile(n){axios.get(route("download.teacher_resources",n),{responseType:"blob"}).then(s=>{const e=window.URL.createObjectURL(new Blob([s.data])),m=document.createElement("a");m.href=e,m.setAttribute("download",n),document.body.appendChild(m),m.click()}).catch(s=>{console.error(s)})},search(){this.$inertia.get(route("teacher_resources"),this.params,{preserveState:!0})},showFilters(){this.show_filters=!this.show_filters},copyText(n){navigator.clipboard.writeText(this.baseUrl()+"/storage/teacher_resources/"+n).then(()=>{this.show_copied=!0,setTimeout(()=>{this.show_copied=!1},1e3)})}}},Ss=Object.assign(Ve,{__name:"Index",setup(n){return(s,e)=>{const m=w("Input"),u=w("Button"),y=w("ComboBox"),p=w("Label"),b=H("debounce");return d(),g(D,null,[t(o(T),{title:"Teacher Resources"}),t(V,null,{header:r(()=>e[12]||(e[12]=[])),default:r(()=>[l("div",le,[l("div",ie,[l("div",ne,[t(o(X),{class:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),z(t(m,{type:"text",placeholder:"Search",class:"w-full rounded-lg bg-background pl-8 md:w-[200px] lg:w-[336px]",modelValue:s.params.search,"onUpdate:modelValue":e[0]||(e[0]=i=>s.params.search=i)},null,8,["modelValue"]),[[b,s.search,"800ms"]])]),t(u,{class:"border border-slate-700 border-dashed bg-white text-slate-800 hover:bg-slate-50",onClick:e[1]||(e[1]=i=>s.showFilters())},{default:r(()=>[t(o(Z),{class:"h-4 w-4"}),e[13]||(e[13]=l("span",{class:"ml-1 hidden sm:block"},"Filters",-1))]),_:1,__:[13]})]),s.$page.props.can.create_teacher_resources?(d(),c(u,{key:0,onClick:e[2]||(e[2]=i=>s.$inertia.get(s.route("teacher_resources.create")))},{default:r(()=>[t(o(ee),{class:"h-4 w-4"}),e[14]||(e[14]=l("span",{class:"ml-1 hidden sm:block"},"New Resource",-1))]),_:1,__:[14]})):f("",!0)]),s.show_filters?(d(),g("div",de,[t(y,{canClear:!0,items:s.$page.props.programmes,"label-property":"name","value-property":"id",onSelect:s.search,modelValue:s.params.programme_id,"onUpdate:modelValue":e[3]||(e[3]=i=>s.params.programme_id=i),"select-placeholder":"Programmes","search-placeholder":"Search programme..."},null,8,["items","onSelect","modelValue"]),t(y,{canClear:!0,items:s.$page.props.levels,"label-property":"name","value-property":"id",onSelect:s.search,modelValue:s.params.level,"onUpdate:modelValue":e[4]||(e[4]=i=>s.params.level=i),"select-placeholder":"Levels","search-placeholder":"Search level..."},null,8,["items","onSelect","modelValue"]),t(y,{canClear:!0,items:s.$page.props.languages,"label-property":"name","value-property":"id",onSelect:s.search,modelValue:s.params.language,"onUpdate:modelValue":e[5]||(e[5]=i=>s.params.language=i),"select-placeholder":"Languages","search-placeholder":"Search language..."},null,8,["items","onSelect","modelValue"]),l("div",pe,[t(u,{onClick:e[6]||(e[6]=i=>s.$inertia.get(s.route("teacher_resources")))},{default:r(()=>e[15]||(e[15]=[a("Clear Search")])),_:1,__:[15]})])])):f("",!0),t(E,null,{content:r(()=>[t(o(W),null,{default:r(()=>[t(o(x),{class:"bg-gray-100"},{default:r(()=>[t(o(k),null,{default:r(()=>[t(o(v),null,{default:r(()=>e[16]||(e[16]=[a("#")])),_:1,__:[16]}),t(o(v),null,{default:r(()=>e[17]||(e[17]=[a("Title")])),_:1,__:[17]}),t(o(v),null,{default:r(()=>e[18]||(e[18]=[a("Programme")])),_:1,__:[18]}),t(o(v),null,{default:r(()=>e[19]||(e[19]=[a("Level")])),_:1,__:[19]}),t(o(v),{class:"text-center"},{default:r(()=>e[20]||(e[20]=[a("Action")])),_:1,__:[20]})]),_:1})]),_:1}),t(o(Y),null,{default:r(()=>[s.$page.props.teacher_resources.data.length?f("",!0):(d(),c(o(k),{key:0},{default:r(()=>[t(o(h),{class:"text-center",colspan:"10"},{default:r(()=>e[21]||(e[21]=[l("div",{class:"p-3"}," No Record Found ",-1)])),_:1,__:[21]})]),_:1})),(d(!0),g(D,null,A(s.$page.props.teacher_resources.data,(i,N)=>(d(),c(o(k),null,{default:r(()=>[t(o(h),null,{default:r(()=>[a(_(s.$page.props.teacher_resources.from+N),1)]),_:2},1024),t(o(h),null,{default:r(()=>[a(_(i.title),1)]),_:2},1024),t(o(h),null,{default:r(()=>[a(_(i.programme),1)]),_:2},1024),t(o(h),null,{default:r(()=>[a(_(i.name),1)]),_:2},1024),t(o(h),{class:"text-center space-x-2"},{default:r(()=>[l("div",ue,[s.$page.props.can.view_teacher_resources?(d(),c(u,{key:0,variant:"outline",onClick:B=>s.viewResource(i.id)},{default:r(()=>e[22]||(e[22]=[a("View / Download")])),_:2,__:[22]},1032,["onClick"])):f("",!0),s.$page.props.can.edit_teacher_resources?(d(),c(u,{key:1,onClick:B=>s.editResource(i.id)},{default:r(()=>e[23]||(e[23]=[a("Edit")])),_:2,__:[23]},1032,["onClick"])):f("",!0),s.$page.props.can.delete_teacher_resources?(d(),c(u,{key:2,variant:"destructive",onClick:B=>s.deleteResource(i.id)},{default:r(()=>e[24]||(e[24]=[a("Delete")])),_:2,__:[24]},1032,["onClick"])):f("",!0)])]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}),t(Q,{page_data:s.$page.props.teacher_resources,params:s.params},null,8,["page_data","params"]),t(G,{open:s.confirmation.is_open,onClose:e[7]||(e[7]=i=>s.confirmation.is_open=!1),routeName:s.confirmation.route_name,id:s.confirmation.id},{title:r(()=>e[25]||(e[25]=[a("Delete Resource")])),description:r(()=>e[26]||(e[26]=[a("Are you sure want to delete this resource?")])),_:1},8,["open","routeName","id"]),t(J,{open:s.show_resource,"onUpdate:open":e[11]||(e[11]=i=>s.show_resource=i)},{title:r(()=>e[27]||(e[27]=[a("Resource Information")])),content:r(()=>[l("div",me,[s.loading_resource?(d(),g("div",fe,e[28]||(e[28]=[l("div",{class:"flex space-x-2 animate-pulse"},[l("div",{class:"w-3 h-3 bg-gray-500 rounded-full"}),l("div",{class:"w-3 h-3 bg-gray-500 rounded-full"}),l("div",{class:"w-3 h-3 bg-gray-500 rounded-full"})],-1)]))):(d(),g("div",ce,[s.resource_data.media_type_id==1?(d(),g("div",{key:0,class:"flex justify-center",innerHTML:s.resource_data.content},null,8,_e)):f("",!0),s.resource_data.media_type_id==2?(d(),g("div",ge,[l("iframe",{class:"w-full h-[300px]",frameborder:"0",src:s.baseUrl()+"/storage/teacher_resources/"+s.resource_data.content},null,8,ye)])):f("",!0),s.resource_data.media_type_id==3?(d(),g("div",he,[l("iframe",{class:"flex-1",frameborder:"0",src:"https://view.officeapps.live.com/op/view.aspx?src="+s.baseUrl()+"/storage/teacher_resources/"+s.resource_data.content+"&embedded=true",style:{width:"600px",height:"500px"}},null,8,ve)])):f("",!0),s.resource_data.media_type_id==4?(d(),g("div",be,[l("img",{class:"w-[50%] h-[50%]",frameborder:"0",src:"/storage/teacher_resources/"+s.resource_data.content,alt:""},null,8,we)])):f("",!0),l("div",$e,[l("div",ke,[l("div",Ce,[l("dl",qe,[l("div",Be,[t(p,null,{default:r(()=>e[29]||(e[29]=[a("Title")])),_:1,__:[29]}),t(p,{class:"font-normal text-slate-700 whitespace-nowrap"},{default:r(()=>[a(_(s.resource_data.title),1)]),_:1})]),l("div",De,[t(p,null,{default:r(()=>e[30]||(e[30]=[a("Programme / Level")])),_:1,__:[30]}),t(p,{class:"font-normal text-slate-700"},{default:r(()=>[a(_(s.resource_data.programme+` ( Level ${s.resource_data.level} )`),1)]),_:1})]),l("div",Le,[t(p,null,{default:r(()=>e[31]||(e[31]=[a("Language")])),_:1,__:[31]}),t(p,{class:"font-normal text-slate-700"},{default:r(()=>[a(_(s.resource_data.language),1)]),_:1})]),l("div",Se,[t(p,null,{default:r(()=>e[32]||(e[32]=[a("Media Type")])),_:1,__:[32]}),t(p,{class:"font-normal text-slate-700"},{default:r(()=>[a(_(s.resource_data.media_type_name),1)]),_:1})]),l("div",Te,[t(p,null,{default:r(()=>e[33]||(e[33]=[a("Created Date")])),_:1,__:[33]}),t(p,{class:"font-normal text-slate-700"},{default:r(()=>[a(_(o(L)(s.resource_data.created_at).format("DD/MM/Y")),1)]),_:1})]),l("div",Ne,[t(p,null,{default:r(()=>e[34]||(e[34]=[a("Last Updated")])),_:1,__:[34]}),t(p,{class:"font-normal text-slate-700"},{default:r(()=>[a(_(o(L)(s.resource_data.updated_at).format("DD/MM/Y")),1)]),_:1})])])])])])]))])]),footer:r(()=>[t(o(oe),null,{default:r(()=>[t(o(re),{delayDuration:0,open:s.show_copied},{default:r(()=>[t(o(ae),{"as-child":"",onClick:e[8]||(e[8]=i=>s.copyText(s.resource_data.content))},{default:r(()=>[t(u,{variant:"outline"},{default:r(()=>[t(o(se),{class:"w-4 h-4 mr-2"}),e[35]||(e[35]=a("Copy Link "))]),_:1,__:[35]})]),_:1}),t(o(te),null,{default:r(()=>e[36]||(e[36]=[l("p",null,"Copied to clipboard!",-1)])),_:1,__:[36]})]),_:1},8,["open"])]),_:1}),s.resource_data.media_type_id!==1?(d(),c(u,{key:0,onClick:e[9]||(e[9]=i=>s.downloadFile(s.resource_data.content))},{default:r(()=>e[37]||(e[37]=[a("Download")])),_:1,__:[37]})):f("",!0),t(u,{variant:"outline",onClick:e[10]||(e[10]=i=>s.show_resource=!1)},{default:r(()=>e[38]||(e[38]=[a("Close")])),_:1,__:[38]})]),_:1},8,["open"])]),_:1})],64)}}});export{Ss as default};
